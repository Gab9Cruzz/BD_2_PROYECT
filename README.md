# ğŸª Sistema de Inventario para Tienda de Ropa# ğŸª Sistema de Inventario para Tienda de Ropa# ğŸª Sistema de Inventario para Tienda de Ropa# ğŸ›ï¸ Sistema de Inventario para Tienda de Ropa



**VersiÃ³n**: 3.0 COMPLETA CON AUTENTICACIÃ“N  ## Ecuador - USD ($) - IVA 15%

**Ecuador** ğŸ‡ªğŸ‡¨ - USD ($) - IVA 15%  

**Base de Datos**: MySQL 8.0  ## Ecuador - USD ($) - IVA 15%

**Backend**: PHP 8.2 con PDO  

**Frontend**: Bootstrap 5.3  **VersiÃ³n**: 2.0 COMPLETA  

**Fecha**: Octubre 2025

**Base de Datos**: MySQL 8.0  Sistema web desarrollado en PHP puro y MySQL para gestionar el inventario de una tienda de ropa. Cumple con el requerimiento acadÃ©mico de **2 pantallas de ingreso + 2 de actualizaciÃ³n + 2 de reportes**.

---

**Backend**: PHP 8.x con PDO  

## ğŸ“‹ CARACTERÃSTICAS PRINCIPALES

**Frontend**: Bootstrap 5.3**VersiÃ³n**: 2.0 COMPLETA  

### âœ… Sistema de AutenticaciÃ³n y Roles

- ğŸ” **Login obligatorio** con control de sesiones PHP

- ğŸ‘¨â€ğŸ’¼ **Rol Admin**: Acceso total a todos los mÃ³dulos

- ğŸ›’ **Rol Vendedor**: Acceso limitado (crear productos, clientes y ventas)---**Fecha**: Octubre 2025  ## ğŸ“‹ CaracterÃ­sticas Principales

- ğŸ›¡ï¸ **ProtecciÃ³n por permisos**: Cada vista verifica autenticaciÃ³n

- ğŸšª **Cierre de sesiÃ³n** seguro con destrucciÃ³n de sesiones

- âš ï¸ **PÃ¡gina de acceso denegado** cuando no hay permisos

## ğŸ“‹ CARACTERÃSTICAS PRINCIPALES**Base de Datos**: MySQL 8.0  

### âœ… 6 Pantallas Funcionales (Requerimiento AcadÃ©mico)

- âœ… **2 Pantallas de Ingreso**: Crear productos y clientes

- âœ… **2 Pantallas de ActualizaciÃ³n**: Editar productos y clientes (con eliminaciÃ³n)

- âœ… **2 Pantallas de Reportes**: Stock bajo mÃ­nimo y ventas por fechas### âœ… Adaptado para Ecuador**Backend**: PHP 8.x con PDO  - âœ… **2 Pantallas de Ingreso**: Crear productos y clientes



### âœ… Base de Datos Avanzada- ğŸ’µ Moneda: DÃ³lares USD ($)

- ğŸ“Š **8 Tablas normalizadas** (3FN)

- ğŸ‘ï¸ **2 Vistas SQL** para consultas optimizadas- ğŸ§¾ IVA: 15%**Frontend**: Bootstrap 5.3- âœ… **2 Pantallas de ActualizaciÃ³n**: Editar productos y clientes

- âš™ï¸ **1 Stored Procedure** para reportes complejos

- ğŸ”” **1 Trigger** para alertas automÃ¡ticas de re-stock- ğŸ†” IdentificaciÃ³n: CÃ©dula, RUC, Pasaporte

- ğŸ”’ **Transacciones SQL** con control ACID

- ğŸ—ºï¸ 24 provincias ecuatorianas- âœ… **2 Pantallas de Reportes**: Stock bajo mÃ­nimo y ventas por fechas

### âœ… Adaptado 100% para Ecuador

- ğŸ’µ **Moneda**: DÃ³lares estadounidenses (USD $)- ğŸ’³ MÃ©todos de pago locales

- ğŸ§¾ **IVA**: 15% (estÃ¡ndar Ecuador)

- ğŸ†” **IdentificaciÃ³n**: CÃ©dula (10 dÃ­gitos), RUC (13 dÃ­gitos), Pasaporte---- âœ… Base de datos normalizada (3FN) con 8 tablas

- ğŸ—ºï¸ **Provincias**: 24 provincias ecuatorianas

- ğŸ’³ **MÃ©todos de Pago**: Efectivo, Tarjeta DÃ©bito/CrÃ©dito, Transferencia, Cheque### âœ… Funcionalidades



---- ğŸ“¦ GestiÃ³n de productos (con marca e IVA)- âœ… **Vistas SQL (2)**: Consultas complejas simplificadas



## ğŸ‘¥ USUARIOS DEL SISTEMA- ğŸ‘¥ GestiÃ³n de clientes (con datos Ecuador)



### ğŸ”‘ Credenciales de Acceso- ğŸ›’ GeneraciÃ³n de ventas## ğŸ“‹ CARACTERÃSTICAS PRINCIPALES- âœ… **Stored Procedures (1)**: Reporte de ventas optimizado



| Usuario | ContraseÃ±a | Rol | Permisos |- ğŸ“Š Reportes avanzados SQL

|---------|-----------|-----|----------|

| `admin` | `admin` | Administrador | âœ… Acceso completo (7 mÃ³dulos) |- ğŸ”” Alertas automÃ¡ticas (Trigger)- âœ… **Transacciones SQL**: Control ACID en operaciones crÃ­ticas

| `vendedor1` | `vendedor` | Vendedor | âš ï¸ Acceso limitado (3 mÃ³dulos) |

- ğŸ—‘ï¸ EliminaciÃ³n con validaciones

### ğŸ“Š Tabla de Permisos por Rol

### âœ… Adaptado 100% para Ecuador- âœ… Seguridad con PDO y Prepared Statements

| MÃ³dulo | Admin | Vendedor |

|--------|-------|----------|---

| ğŸ†• Crear Producto | âœ… | âœ… |

| âœï¸ Editar Producto | âœ… | âŒ |- ğŸ’µ **Moneda**: DÃ³lares estadounidenses (USD $)- âœ… Interfaz responsive con Bootstrap 5

| ğŸ‘¤ Crear Cliente | âœ… | âœ… |

| âœï¸ Editar Cliente | âœ… | âŒ |## ğŸ—„ï¸ BASE DE DATOS

| ğŸ›’ Generar Venta | âœ… | âœ… |

| ğŸ“Š Reporte Ventas | âœ… | âŒ |- ğŸ§¾ **IVA**: 15% (estÃ¡ndar Ecuador)- âœ… GestiÃ³n de mÃºltiples telÃ©fonos por cliente

| âš ï¸ Reporte Stock MÃ­nimo | âœ… | âŒ |

### Estructura

---

- **8 Tablas**: Proveedor, Categoria, Producto, Cliente, Telefono_Cliente, FacturaVenta, DetalleVenta, MovimientoInventario- ğŸ†” **IdentificaciÃ³n**: CÃ©dula (10 dÃ­gitos), RUC (13 dÃ­gitos), Pasaporte

## ğŸš€ INSTALACIÃ“N RÃPIDA

- **3 Vistas SQL**: vista_stock_bajo, vista_ventas_completas, vista_detalle_ventas

### âœ… Requisitos Previos

- **XAMPP** instalado (Apache + MySQL + PHP 8.2)- **1 Stored Procedure**: sp_reporte_ventas_fechas- ğŸ—ºï¸ **Provincias**: 24 provincias ecuatorianas## ğŸ› ï¸ TecnologÃ­as Utilizadas

- **Navegador web** moderno (Chrome, Firefox, Edge)

- **10 minutos** de tu tiempo- **1 Trigger**: tr_restock_producto (alerta automÃ¡tica)



### ğŸ“¦ Pasos de InstalaciÃ³n- **NormalizaciÃ³n**: 3FN- ğŸ’³ **MÃ©todos de Pago**: Efectivo, Tarjeta DÃ©bito, Tarjeta CrÃ©dito, Transferencia Bancaria, DepÃ³sito Bancario



#### 1ï¸âƒ£ Iniciar XAMPP- **Charset**: UTF-8 (utf8mb4)

```bash

# Abre XAMPP Control Panel- **Backend**: PHP 8.2 (puro, sin frameworks)

- Start Apache

- Start MySQL---

```

### âœ… Funcionalidades Implementadas- **Base de Datos**: MySQL

#### 2ï¸âƒ£ Copiar el Proyecto

```bash## ğŸ–¥ï¸ PANTALLAS DEL SISTEMA

# Copia la carpeta del proyecto a:

C:\xampp\htdocs\Proyecto_PHP\- ğŸ“¦ GestiÃ³n completa de productos (con marca e IVA)- **Frontend**: HTML5, CSS3, Bootstrap 5, JavaScript

```

### Ingreso de Datos (2)

#### 3ï¸âƒ£ Crear Base de Datos

1. Abre tu navegador: `http://localhost/phpmyadmin`1. **Crear Producto** - Con marca e IVA- ğŸ‘¥ GestiÃ³n completa de clientes (con datos Ecuador)- **Servidor Local**: XAMPP

2. Clic en **"Nuevo"**

3. Nombre: `inventario_tienda`2. **Crear Cliente** - Con identificaciÃ³n Ecuador

4. Cotejamiento: `utf8mb4_unicode_ci`

5. Clic en **"Crear"**- ğŸ›’ GeneraciÃ³n de ventas con mÃºltiples productos- **Arquitectura**: MVC simplificado



#### 4ï¸âƒ£ Importar SQL### ActualizaciÃ³n (2)

1. Selecciona base de datos `inventario_tienda`

2. Ve a pestaÃ±a **"Importar"**3. **Editar Producto** - Con botÃ³n eliminar- ğŸ“Š Reportes avanzados con SQL (Vistas + Stored Procedures)- **ConexiÃ³n DB**: PDO con Prepared Statements

3. Selecciona archivo: `sql/inventario_tienda.sql`

4. Clic en **"Continuar"**4. **Editar Cliente** - Con botÃ³n eliminar

5. Espera mensaje: âœ… "ImportaciÃ³n finalizada correctamente"

- ğŸ”” Sistema de alertas automÃ¡ticas (Trigger de re-stock)

#### 5ï¸âƒ£ Acceder al Sistema

```### Reportes (2)

http://localhost/Proyecto_PHP/

```5. **Stock Bajo MÃ­nimo** - Usa VISTA SQL- ğŸ—‘ï¸ Botones de eliminaciÃ³n con validaciones## ğŸ“ Estructura del Proyecto

**Se redirigirÃ¡ automÃ¡ticamente al login** ğŸ”

6. **Ventas por Fechas** - Usa STORED PROCEDURE

---



## ğŸ“‚ ESTRUCTURA DEL PROYECTO

### Extra

```

Proyecto_PHP/7. **Generar Venta** - Con mÃ©todos de pago Ecuador---```

â”œâ”€â”€ ğŸ“ auth/                           â­ AUTENTICACIÃ“N

â”‚   â”œâ”€â”€ login.php                      # Inicio de sesiÃ³n

â”‚   â”œâ”€â”€ logout.php                     # Cerrar sesiÃ³n

â”‚   â””â”€â”€ sin_permiso.php                # Acceso denegado---Proyecto_PHP/

â”‚

â”œâ”€â”€ ğŸ“ config/                         # CONFIGURACIÃ“N

â”‚   â”œâ”€â”€ auth.php                       # Funciones de autenticaciÃ³n

â”‚   â””â”€â”€ conexion.php                   # ConexiÃ³n PDO a MySQL## ğŸš€ INSTALACIÃ“N## ğŸ—„ï¸ ESTRUCTURA DE BASE DE DATOSâ”œâ”€â”€ config/

â”‚

â”œâ”€â”€ ğŸ“ models/                         # MODELOS (LÃ³gica de negocio)

â”‚   â”œâ”€â”€ Usuario.php                    # GestiÃ³n de usuarios y permisos

â”‚   â”œâ”€â”€ Producto.php                   # GestiÃ³n de productos### Pasos RÃ¡pidosâ”‚   â””â”€â”€ conexion.php          # ConexiÃ³n PDO a la base de datos

â”‚   â”œâ”€â”€ Cliente.php                    # GestiÃ³n de clientes

â”‚   â”œâ”€â”€ FacturaVenta.php               # GestiÃ³n de ventas

â”‚   â”œâ”€â”€ Categoria.php                  # CategorÃ­as

â”‚   â”œâ”€â”€ Proveedor.php                  # Proveedores1. **Iniciar XAMPP**### 8 Tablas Principalesâ”œâ”€â”€ models/

â”‚   â””â”€â”€ MovimientoInventario.php       # Movimientos de stock

â”‚   - Start Apache + MySQL

â”œâ”€â”€ ğŸ“ views/                          # VISTAS (Interfaz)

â”‚   â”œâ”€â”€ productos/1. **Proveedor** - Proveedores de productosâ”‚   â”œâ”€â”€ Producto.php          # Modelo de productos

â”‚   â”‚   â”œâ”€â”€ crear.php                  # [Admin + Vendedor]

â”‚   â”‚   â””â”€â”€ editar.php                 # [Solo Admin]2. **Importar BD**

â”‚   â”œâ”€â”€ clientes/

â”‚   â”‚   â”œâ”€â”€ crear.php                  # [Admin + Vendedor]   - phpMyAdmin â†’ Importar2. **Categoria** - CategorÃ­as de ropaâ”‚   â”œâ”€â”€ Cliente.php           # Modelo de clientes

â”‚   â”‚   â””â”€â”€ editar.php                 # [Solo Admin]

â”‚   â”œâ”€â”€ ventas/   - Archivo: `sql/inventario_tienda_COMPLETO.sql`

â”‚   â”‚   â””â”€â”€ generar.php                # [Admin + Vendedor]

â”‚   â””â”€â”€ reportes/3. **Producto** - Productos con marca, precio USD, IVA 15%â”‚   â”œâ”€â”€ FacturaVenta.php      # Modelo de ventas

â”‚       â”œâ”€â”€ ventas.php                 # [Solo Admin]

â”‚       â””â”€â”€ stock_minimo.php           # [Solo Admin]3. **Acceder**

â”‚

â”œâ”€â”€ ğŸ“ public/                         # RECURSOS PÃšBLICOS   - `http://localhost/Proyecto_PHP/`4. **Cliente** - Clientes con identificaciÃ³n Ecuadorâ”‚   â”œâ”€â”€ MovimientoInventario.php

â”‚   â”œâ”€â”€ css/

â”‚   â”‚   â””â”€â”€ style.css                  # Estilos personalizados

â”‚   â””â”€â”€ js/

â”‚       â””â”€â”€ main.js                    # JavaScriptğŸ“– **GuÃ­a detallada**: Ver `INSTALACION.md`5. **Telefono_Cliente** - TelÃ©fonos (relaciÃ³n 1:N)â”‚   â”œâ”€â”€ Categoria.php

â”‚

â”œâ”€â”€ ğŸ“ sql/

â”‚   â””â”€â”€ inventario_tienda.sql          # â­ Script completo

â”‚---6. **FacturaVenta** - Facturas de ventasâ”‚   â””â”€â”€ Proveedor.php

â”œâ”€â”€ INDEX.PHP                          # Dashboard principal

â”‚

â””â”€â”€ ğŸ“š DOCUMENTACIÃ“N

    â”œâ”€â”€ README.md                      # â­ Este archivo## ğŸ“‚ ESTRUCTURA7. **DetalleVenta** - Productos vendidos por facturaâ”œâ”€â”€ views/

    â”œâ”€â”€ SISTEMA_AUTENTICACION.md       # Doc del sistema de login

    â”œâ”€â”€ GUIA_PRUEBAS_LOGIN.md          # Casos de prueba

    â”œâ”€â”€ ESTRUCTURA_VISUAL.md           # Diagramas del proyecto

    â”œâ”€â”€ REORGANIZACION_AUTH.md         # Cambios de estructura```8. **MovimientoInventario** - Movimientos de stock + alertas TRIGGERâ”‚   â”œâ”€â”€ productos/

    â””â”€â”€ DOCUMENTACION_SQL.md           # DocumentaciÃ³n de BD

```Proyecto_PHP/



---â”œâ”€â”€ sql/â”‚   â”‚   â”œâ”€â”€ crear.php         # âœ… INGRESO: Crear producto



## ğŸ–¥ï¸ PANTALLAS DEL SISTEMAâ”‚   â””â”€â”€ inventario_tienda_COMPLETO.sql  â­ Archivo SQL Ãºnico



### ğŸ” AutenticaciÃ³nâ”œâ”€â”€ config/### 3 Vistas SQLâ”‚   â”‚   â””â”€â”€ editar.php        # âœ… ACTUALIZACIÃ“N: Editar producto

0. **Login** (`auth/login.php`) - Inicio de sesiÃ³n obligatorio

â”‚   â””â”€â”€ conexion.php

### ğŸ“¥ Ingreso de Datos (2 pantallas)

1. **Crear Producto** (`views/productos/crear.php`)â”œâ”€â”€ models/- `vista_stock_bajo` - Productos con stock bajo el mÃ­nimoâ”‚   â”œâ”€â”€ clientes/

   - Campos: CÃ³digo, Nombre, Marca, DescripciÃ³n, Precio USD, IVA %, Stock

   - Permisos: Admin + Vendedor âœ…â”‚   â”œâ”€â”€ Cliente.php      (con campos Ecuador)



2. **Crear Cliente** (`views/clientes/crear.php`)â”‚   â”œâ”€â”€ Producto.php     (con marca e IVA)- `vista_ventas_completas` - Resumen de ventasâ”‚   â”‚   â”œâ”€â”€ crear.php         # âœ… INGRESO: Crear cliente

   - Campos: IdentificaciÃ³n Ecuador, Nombres, TelÃ©fono, Email, DirecciÃ³n, Provincia

   - Permisos: Admin + Vendedor âœ…â”‚   â””â”€â”€ ...



### âœï¸ ActualizaciÃ³n de Datos (2 pantallas)â”œâ”€â”€ views/- `vista_detalle_ventas` - **Detalle de productos con cÃ¡lculo de IVA 15%**â”‚   â”‚   â”œâ”€â”€ editar.php        # âœ… ACTUALIZACIÃ“N: Editar cliente

3. **Editar Producto** (`views/productos/editar.php`)

   - Selector integrado + EdiciÃ³n + BotÃ³n Eliminarâ”‚   â”œâ”€â”€ productos/

   - Permisos: Solo Admin âš ï¸

â”‚   â”œâ”€â”€ clientes/â”‚   â”‚   â”œâ”€â”€ agregar_telefono.php

4. **Editar Cliente** (`views/clientes/editar.php`)

   - Selector integrado + EdiciÃ³n + BotÃ³n Eliminarâ”‚   â”œâ”€â”€ reportes/

   - Permisos: Solo Admin âš ï¸

â”‚   â””â”€â”€ ventas/### 1 Stored Procedureâ”‚   â”‚   â””â”€â”€ eliminar_telefono.php

### ğŸ“Š Reportes de Datos (2 pantallas)

5. **Reporte Stock Bajo MÃ­nimo** (`views/reportes/stock_minimo.php`)â”œâ”€â”€ public/

   - Usa: **VISTA SQL** `vista_stock_bajo`

   - Muestra: Productos crÃ­ticos con datos de proveedorâ”‚   â”œâ”€â”€ css/- `sp_reporte_ventas_fechas(fecha_inicio, fecha_fin)` - Reporte con estadÃ­sticasâ”‚   â””â”€â”€ reportes/

   - Permisos: Solo Admin âš ï¸

â”‚   â””â”€â”€ js/

6. **Reporte de Ventas por Fechas** (`views/reportes/ventas.php`)

   - Usa: **STORED PROCEDURE** `sp_reporte_ventas_periodo`â”œâ”€â”€ INDEX.PHP            â­ PÃ¡gina principalâ”‚       â”œâ”€â”€ stock_minimo.php  # âœ… REPORTE: Stock bajo mÃ­nimo

   - Filtro: Rango de fechas + EstadÃ­sticas

   - Permisos: Solo Admin âš ï¸â”œâ”€â”€ README.md            ğŸ“– Este archivo



### ğŸ›’ Extraâ”œâ”€â”€ INSTALACION.md       ğŸ“– GuÃ­a de instalaciÃ³n### 1 Trigger AutomÃ¡ticoâ”‚       â””â”€â”€ ventas.php        # âœ… REPORTE: Ventas por fechas

7. **Generar Venta** (`views/ventas/generar.php`)

   - SelecciÃ³n de cliente + Productos + MÃ©todos de pago Ecuadorâ””â”€â”€ DOCUMENTACION_SQL.md ğŸ“– DocumentaciÃ³n tÃ©cnica BD

   - CÃ¡lculo automÃ¡tico de IVA 15%

   - Permisos: Admin + Vendedor âœ…```- `tr_restock_producto` - **Alerta automÃ¡tica cuando stock < stock_mÃ­nimo**â”œâ”€â”€ public/



---



## ğŸ—„ï¸ BASE DE DATOS---â”‚   â””â”€â”€ css/



### ğŸ“Š Tablas (8)

1. **usuarios** - Usuarios del sistema con roles

2. **categorias** - CategorÃ­as de productos## ğŸ¯ ELEMENTOS SQL AVANZADOS---â”‚       â””â”€â”€ style.css

3. **proveedores** - InformaciÃ³n de proveedores

4. **productos** - Inventario de productos

5. **clientes** - InformaciÃ³n de clientes

6. **facturas_venta** - Facturas generadas### Vistas (3)â”œâ”€â”€ sql/

7. **detalle_factura** - Productos vendidos por factura

8. **movimientos_inventario** - Historial de movimientos de stock- `vista_stock_bajo` - Productos crÃ­ticos



### ğŸ‘ï¸ Vistas SQL (2)- `vista_ventas_completas` - Resumen ventas## ğŸ–¥ï¸ PANTALLAS DEL SISTEMAâ”‚   â””â”€â”€ inventario_tienda.sql

- **`vista_productos_stock`** - Productos con su estado de stock

- **`vista_ventas_detalladas`** - Resumen de ventas con clientes- `vista_detalle_ventas` - Con cÃ¡lculo IVA 15%



### âš™ï¸ Stored Procedures (1)â””â”€â”€ index.php                  # PÃ¡gina principal con navegaciÃ³n

- **`sp_reporte_ventas_periodo`** - Reporte de ventas con 2 resultados:

  - Resultado 1: Lista de ventas en el perÃ­odo### Stored Procedure (1)

  - Resultado 2: EstadÃ­sticas (total ventas, subtotal, IVA, total general)

- `sp_reporte_ventas_fechas` - Reporte con estadÃ­sticas### Ingreso de Datos (2 pantallas)```

### ğŸ”” Triggers (1)

- **`trg_restock_automatico`** - Se activa cuando `stock_actual <= stock_minimo`

  - Crea movimiento de entrada automÃ¡tico

  - Reabastecer con (stock_minimo Ã— 2) unidades### Trigger (1)1. **Crear Producto** (`views/productos/crear.php`)



### ğŸ”’ CaracterÃ­sticas Avanzadas- `tr_restock_producto` - Alerta automÃ¡tica cuando stock < mÃ­nimo

- âœ… NormalizaciÃ³n 3FN

- âœ… Claves forÃ¡neas con integridad referencial   - Campos: Nombre, **Marca**, Talla, Color, **Precio USD**, **IVA %**, Stock, CategorÃ­a## ğŸ¯ Las 6 Pantallas Obligatorias

- âœ… Ãndices optimizados

- âœ… Charset UTF-8 (utf8mb4_unicode_ci)### Funciones AgregaciÃ³n

- âœ… Transacciones ACID en operaciones crÃ­ticas

- SUM(), AVG(), COUNT(), MIN(), MAX()   

---



## ğŸ¯ FLUJO DE NAVEGACIÃ“N

---2. **Crear Cliente** (`views/clientes/crear.php`)### ğŸ“¥ Pantallas de Ingreso (2)

### 1ï¸âƒ£ Acceso al Sistema

```

Usuario â†’ http://localhost/Proyecto_PHP/

              â†“## ğŸ§ª DATOS DE EJEMPLO   - Campos: Nombre, **Tipo IdentificaciÃ³n**, **NÃºmero IdentificaciÃ³n**, **Provincia**, **Ciudad**1. **Crear Producto** (`views/productos/crear.php`)

    Redirige a auth/login.php (si no hay sesiÃ³n)

              â†“

    Ingresa credenciales (admin/admin o vendedor1/vendedor)

              â†“- **10 productos** (Adidas, Nike, Levi's, Zara, Puma, etc.)   - Formulario para registrar nuevos productos

    Sistema valida usuario/password

              â†“- **6 clientes** (con identificaciÃ³n Ecuador)

    Guarda datos en $_SESSION

              â†“- **6 ventas** (octubre 2025)### ActualizaciÃ³n de Datos (2 pantallas)   - SelecciÃ³n de categorÃ­a y proveedor

    Redirige a INDEX.PHP (Dashboard)

```



### 2ï¸âƒ£ Dashboard DinÃ¡mico---3. **Editar Producto** (`views/productos/editar.php`)   - DefiniciÃ³n de stock inicial y mÃ­nimo

```

INDEX.PHP verifica sesiÃ³n y rol

         â†“

Muestra mÃ³dulos segÃºn permisos:## ğŸ“š DOCUMENTACIÃ“N   - âœ… ModificaciÃ³n de datos + **BotÃ³n Eliminar**

  - Admin: ve 7 mÃ³dulos

  - Vendedor: ve 3 mÃ³dulos

         â†“

Navbar con opciones filtradas por rol| Archivo | DescripciÃ³n |   2. **Crear Cliente** (`views/clientes/crear.php`)

```

|---------|-------------|

### 3ï¸âƒ£ Acceso a MÃ³dulos

```| `README.md` | DocumentaciÃ³n general (este archivo) |4. **Editar Cliente** (`views/clientes/editar.php`)   - Formulario para registrar nuevos clientes

Usuario hace clic en mÃ³dulo

         â†“| `INSTALACION.md` | GuÃ­a de instalaciÃ³n paso a paso |

Vista verifica permiso (requierePermiso())

         â†“| `DOCUMENTACION_SQL.md` | DocumentaciÃ³n tÃ©cnica de BD |   - âœ… ModificaciÃ³n de datos + **BotÃ³n Eliminar**   - Soporte para mÃºltiples telÃ©fonos

Â¿Tiene permiso?

  SÃ â†’ Muestra el mÃ³dulo

  NO â†’ Redirige a auth/sin_permiso.php

```---   - Campos: nombre, direcciÃ³n, correo



### 4ï¸âƒ£ Cierre de SesiÃ³n

```

Usuario â†’ Clic en "Cerrar SesiÃ³n"## ğŸ”§ CONFIGURACIÃ“N### Reportes (2 pantallas)

              â†“

    Ejecuta auth/logout.php

              â†“

    Destruye $_SESSION**ConexiÃ³n BD**: `config/conexion.php`5. **Stock Bajo MÃ­nimo** (`views/reportes/stock_minimo.php`)### âœï¸ Pantallas de ActualizaciÃ³n (2)

              â†“

    Redirige a auth/login.php

```

```php   - Usa: **VISTA** `vista_stock_bajo`3. **Editar Producto** (`views/productos/editar.php`)

---

private $host = "localhost";

## ğŸ§ª DATOS DE PRUEBA INCLUIDOS

private $db_name = "inventario_tienda";   - Muestra: Productos con stock crÃ­tico   - Selector integrado de productos (no requiere listado previo)

### Usuarios (2)

- **Admin**: admin / admin (acceso total)private $username = "root";

- **Vendedor**: vendedor1 / vendedor (acceso limitado)

private $password = "";  // VacÃ­o en XAMPP      - ActualizaciÃ³n de datos del producto

### Productos (5)

- Laptop HP, Mouse Logitech, Camiseta Nike, Arroz Premium, BalÃ³n Adidas```

- Precios: desde $4.50 hasta $650.00

- Stock configurado con alertas6. **Ventas por Fechas** (`views/reportes/ventas.php`)   - ModificaciÃ³n de categorÃ­a, proveedor y stock



### Clientes (3)---

- Juan PÃ©rez (Quito), MarÃ­a LÃ³pez (Guayaquil), Pedro RamÃ­rez (Cuenca)

- Con identificaciÃ³n Ecuador vÃ¡lida   - Usa: **STORED PROCEDURE** `sp_reporte_ventas_fechas`



### Ventas (3)## âœ… VERIFICACIÃ“N

- Facturas de ejemplo con diferentes mÃ©todos de pago

- CÃ¡lculo correcto de IVA 15%   - CaracterÃ­sticas:4. **Editar Cliente** (`views/clientes/editar.php`)



---### Checklist



## ğŸ”§ CONFIGURACIÃ“N- [ ] Apache y MySQL corriendo     - Filtro por rango de fechas   - Selector integrado de clientes (no requiere listado previo)



### ConexiÃ³n a Base de Datos- [ ] BD `inventario_tienda` creada

**Archivo**: `config/conexion.php`

- [ ] 8 tablas importadas     - EstadÃ­sticas (total ventas, ingresos, promedio)   - ActualizaciÃ³n de datos del cliente

```php

private $host = "localhost";- [ ] 3 vistas creadas

private $db_name = "inventario_tienda";

private $username = "root";- [ ] 1 Stored Procedure     - **BotÃ³n "Ver"** expandible para mostrar productos comprados   - GestiÃ³n de telÃ©fonos (agregar/eliminar)

private $password = "";  // VacÃ­o en XAMPP por defecto

```- [ ] 1 Trigger



### Funciones de AutenticaciÃ³n- [ ] Sistema accesible     - CÃ¡lculo de IVA 15% por producto

**Archivo**: `config/auth.php`



Funciones disponibles:

- `estaAutenticado()` - Verifica si hay sesiÃ³n activa### Pruebas RÃ¡pidas     - Totales por factura### ğŸ“Š Pantallas de Reportes (2)

- `obtenerUsuario()` - Retorna datos del usuario logueado

- `tienePermiso($modulo)` - Verifica permiso especÃ­fico```sql

- `requiereAutenticacion()` - Redirige a login si no hay sesiÃ³n

- `requierePermiso($modulo)` - Redirige si no tiene permiso-- Probar VISTA5. **Reporte de Stock Bajo MÃ­nimo** (`views/reportes/stock_minimo.php`)

- `esAdmin()` - Verifica si el usuario es admin

- `esVendedor()` - Verifica si el usuario es vendedorSELECT * FROM vista_detalle_ventas;



---### Extra: Generar Venta   - Lista productos con stock por debajo del mÃ­nimo



## âœ… CHECKLIST DE VERIFICACIÃ“N-- Probar STORED PROCEDURE



### InstalaciÃ³nCALL sp_reporte_ventas_fechas('2025-10-01', '2025-10-31');7. **Generar Venta** (`views/ventas/generar.php`)   - Indicadores visuales de nivel crÃ­tico

- [ ] XAMPP instalado y funcionando

- [ ] Apache corriendo (puerto 80)

- [ ] MySQL corriendo (puerto 3306)

- [ ] Proyecto copiado en `C:\xampp\htdocs\Proyecto_PHP\`-- Probar TRIGGER   - SelecciÃ³n de cliente   - InformaciÃ³n de proveedor para reposiciÃ³n

- [ ] Base de datos `inventario_tienda` creada

- [ ] Archivo SQL importado correctamenteUPDATE Producto SET stock = 3 WHERE id_producto = 1;

- [ ] 8 tablas visibles en phpMyAdmin

- [ ] 2 vistas creadasSELECT * FROM MovimientoInventario WHERE descripcion LIKE '%ALERTA%';   - MÃ©todos de pago Ecuador

- [ ] 1 procedimiento almacenado

- [ ] Usuarios precargados en tabla `usuarios````



### Funcionalidad   - MÃºltiples productos6. **Reporte de Ventas por Fechas** (`views/reportes/ventas.php`)

- [ ] Login funciona con ambos usuarios

- [ ] Admin ve 7 mÃ³dulos en dashboard---

- [ ] Vendedor ve solo 3 mÃ³dulos

- [ ] Crear producto funciona   - CÃ¡lculo automÃ¡tico de totales en USD   - Filtrado por rango de fechas

- [ ] Crear cliente funciona

- [ ] Editar producto (solo admin)## ğŸ† CUMPLIMIENTO DE REQUISITOS

- [ ] Editar cliente (solo admin)

- [ ] Reporte stock mÃ­nimo muestra datos   - Total de ventas y promedio

- [ ] Reporte ventas muestra estadÃ­sticas

- [ ] Generar venta calcula IVA correctamente| Requisito | Estado |

- [ ] Cierre de sesiÃ³n funciona

- [ ] Acceso sin login redirige a login|-----------|--------|---   - Detalles de cada factura

- [ ] Acceso sin permiso muestra pÃ¡gina de error

| 2 pantallas ingreso | âœ… 100% |

---

| 2 pantallas actualizaciÃ³n | âœ… 100% |

## ğŸ§ª CASOS DE PRUEBA

| 2 reportes | âœ… 100% |

### âœ… Test 1: Login como Admin

1. Ir a: `http://localhost/Proyecto_PHP/`| Vistas SQL | âœ… 3 vistas |## ğŸš€ INSTALACIÃ“N RÃPIDA## ğŸš€ InstalaciÃ³n y Puesta en Marcha

2. Ingresar: `admin` / `admin`

3. **Resultado**: Dashboard con 7 tarjetas (todos los mÃ³dulos)| Stored Procedures | âœ… 1 SP |



### âœ… Test 2: Login como Vendedor| Triggers | âœ… 1 Trigger |

1. Cerrar sesiÃ³n

2. Ingresar: `vendedor1` / `vendedor`| Funciones agregaciÃ³n | âœ… 5 funciones |

3. **Resultado**: Dashboard con 3 tarjetas (crear productos, clientes, ventas)

| NormalizaciÃ³n 3FN | âœ… Completa |### Requisitos### âœ… Requisitos Previos

### âœ… Test 3: Acceso Sin Permiso

1. Login como vendedor

2. Intentar acceder: `views/productos/editar.php`

3. **Resultado**: Redirige a `auth/sin_permiso.php`---- XAMPP (Apache + MySQL + PHP 8.x)



### âœ… Test 4: Crear Producto

1. Login como vendedor o admin

2. Clic en "Nuevo Producto"## ğŸ“ SOPORTE- Navegador web moderno- **XAMPP** instalado (PHP 8.2 + MySQL)

3. Llenar formulario y guardar

4. **Resultado**: Producto creado correctamente



### âœ… Test 5: Reporte de Ventas- **Sistema**: `http://localhost/Proyecto_PHP/`- **Navegador web** moderno (Chrome, Firefox, Edge)

1. Login como admin

2. Clic en "Reporte de Ventas"- **phpMyAdmin**: `http://localhost/phpmyadmin`

3. Seleccionar rango de fechas

4. **Resultado**: Lista de ventas + estadÃ­sticas- **SQL**: `sql/inventario_tienda_COMPLETO.sql`### Pasos



### âœ… Test 6: Trigger de Stock

1. Ir a phpMyAdmin â†’ SQL

2. Ejecutar: `UPDATE productos SET stock_actual = 3 WHERE id = 1;`---### ğŸ“¦ Pasos de InstalaciÃ³n (5 minutos)

3. Ver tabla `movimientos_inventario`

4. **Resultado**: Registro automÃ¡tico de alerta



---## ğŸš€ ESTADO1. **Iniciar XAMPP**



## ğŸ› SOLUCIÃ“N DE PROBLEMAS



### âŒ Error: "Connection failed"âœ… **SISTEMA COMPLETO Y FUNCIONAL**   ```#### 1ï¸âƒ£ Instalar XAMPP

**Causa**: MySQL no estÃ¡ corriendo o credenciales incorrectas



**SoluciÃ³n**:

1. Verifica que MySQL estÃ© en verde en XAMPP- Base de datos unificada   - Start Apache   - Descarga XAMPP desde [https://www.apachefriends.org/](https://www.apachefriends.org/)

2. Revisa `config/conexion.php` (usuario: root, password: vacÃ­o)

- CÃ³digo actualizado Ecuador

### âŒ Error: "Table doesn't exist"

**Causa**: El archivo SQL no se importÃ³- DocumentaciÃ³n simplificada   - Start MySQL   - Instala XAMPP en tu sistema (ubicaciÃ³n predeterminada: `C:\xampp`)



**SoluciÃ³n**:- Listo para usar

1. Ve a phpMyAdmin: `http://localhost/phpmyadmin`

2. Selecciona base `inventario_tienda`   ```   - AsegÃºrate de instalar **Apache** y **MySQL**

3. Si no tiene tablas, importa de nuevo `sql/inventario_tienda.sql`

---

### âŒ Error: "Cannot modify header information"

**Causa**: Espacios antes de `<?php` o BOM



**SoluciÃ³n**:**Desarrollado para Ecuador** ğŸ‡ªğŸ‡¨  

- Guarda todos los archivos PHP con encoding **UTF-8 sin BOM**

- No debe haber espacios antes de `<?php`**VersiÃ³n 2.0 - Octubre 2025**2. **Importar Base de Datos**#### 2ï¸âƒ£ Copiar el Proyecto



### âŒ PÃ¡gina en blanco

**Causa**: Error de PHP no mostrado   ```   ```



**SoluciÃ³n**:   - Abrir: http://localhost/phpmyadmin   Copia toda la carpeta del proyecto a:

1. Abre `config/conexion.php`

2. Agrega despuÃ©s de `<?php`:   - Importar: sql/inventario_tienda_COMPLETO.sql   C:\xampp\htdocs\Proyecto_PHP

   ```php

   error_reporting(E_ALL);   ```   

   ini_set('display_errors', 1);

   ```   La estructura debe quedar asÃ­:

3. Recarga y verÃ¡s el error especÃ­fico

3. **Acceder al Sistema**   C:\xampp\htdocs\Proyecto_PHP\index.php

### âŒ Apache no inicia (Puerto 80 ocupado)

**Causa**: Skype u otro programa usa el puerto 80   ```   C:\xampp\htdocs\Proyecto_PHP\config\



**SoluciÃ³n**:   http://localhost/Proyecto_PHP/   C:\xampp\htdocs\Proyecto_PHP\models\

1. En XAMPP, Config â†’ httpd.conf

2. Busca: `Listen 80`   ```   C:\xampp\htdocs\Proyecto_PHP\views\

3. Cambia a: `Listen 8080`

4. Reinicia Apache   C:\xampp\htdocs\Proyecto_PHP\sql\

5. Accede con: `http://localhost:8080/Proyecto_PHP/`

ğŸ“– **GuÃ­a detallada**: Ver `INSTALACION_RAPIDA.md`   ...

---

   ```

## ğŸ† CUMPLIMIENTO DE REQUISITOS ACADÃ‰MICOS

---

| Requisito | Estado | ImplementaciÃ³n |

|-----------|--------|----------------|#### 3ï¸âƒ£ Iniciar Servicios de XAMPP

| 2 pantallas ingreso | âœ… 100% | `productos/crear.php`, `clientes/crear.php` |

| 2 pantallas actualizaciÃ³n | âœ… 100% | `productos/editar.php`, `clientes/editar.php` |## ğŸ“‚ ESTRUCTURA DEL PROYECTO   - Abre **XAMPP Control Panel**

| 2 reportes | âœ… 100% | `stock_minimo.php` (VISTA), `ventas.php` (SP) |

| Vistas SQL | âœ… 200% | 2 vistas implementadas y usadas |   - Haz clic en **Start** junto a **Apache**

| Stored Procedures | âœ… 100% | 1 SP con 2 conjuntos de resultados |

| Triggers | âœ… 100% | 1 Trigger automÃ¡tico funcional |```   - Haz clic en **Start** junto a **MySQL**

| Funciones agregaciÃ³n | âœ… 100% | SUM, AVG, COUNT, MIN, MAX en SP |

| NormalizaciÃ³n 3FN | âœ… 100% | 8 tablas normalizadas |Proyecto_PHP/   - Espera a que ambos servicios estÃ©n en verde (Running)

| **Sistema de Login** | âœ… EXTRA | Con roles y permisos diferenciados |

| **Control de Acceso** | âœ… EXTRA | Por rol (admin/vendedor) |â”œâ”€â”€ sql/



---â”‚   â””â”€â”€ inventario_tienda_COMPLETO.sql  â­ ARCHIVO SQL UNIFICADO#### 4ï¸âƒ£ Crear la Base de Datos



## ğŸ“š DOCUMENTACIÃ“N ADICIONALâ”œâ”€â”€ config/   - Abre tu navegador



| Archivo | DescripciÃ³n |â”‚   â””â”€â”€ conexion.php                     ConexiÃ³n PDO a MySQL   - Ve a: `http://localhost/phpmyadmin`

|---------|-------------|

| `SISTEMA_AUTENTICACION.md` | DocumentaciÃ³n completa del sistema de login |â”œâ”€â”€ models/   - Haz clic en **"Nuevo"** en el panel izquierdo

| `GUIA_PRUEBAS_LOGIN.md` | Casos de prueba detallados del login |

| `ESTRUCTURA_VISUAL.md` | Diagramas y visualizaciÃ³n del proyecto |â”‚   â”œâ”€â”€ Cliente.php                      (con campos Ecuador)   - En "Nombre de la base de datos": escribe `inventario_tienda`

| `REORGANIZACION_AUTH.md` | Cambios en la estructura de carpetas |

| `DOCUMENTACION_SQL.md` | DocumentaciÃ³n tÃ©cnica de la base de datos |â”‚   â”œâ”€â”€ Producto.php                     (con marca e IVA)   - En "Cotejamiento": selecciona `utf8mb4_unicode_ci`



---â”‚   â”œâ”€â”€ FacturaVenta.php   - Haz clic en **"Crear"**



## ğŸ¨ CARACTERÃSTICAS DE INTERFAZâ”‚   â”œâ”€â”€ Categoria.php



- âœ… **DiseÃ±o Responsive**: Funciona en desktop, tablet y mÃ³vilâ”‚   â”œâ”€â”€ Proveedor.php#### 5ï¸âƒ£ Importar el Archivo SQL

- âœ… **Bootstrap 5.3**: Framework CSS moderno

- âœ… **Iconos**: Bootstrap Icons integradosâ”‚   â””â”€â”€ MovimientoInventario.php   - En phpMyAdmin, selecciona la base de datos **`inventario_tienda`** (panel izquierdo)

- âœ… **Efectos Visuales**: Hover, animaciones suaves

- âœ… **Confirmaciones**: JavaScript para acciones crÃ­ticasâ”œâ”€â”€ views/   - Ve a la pestaÃ±a **"Importar"**

- âœ… **Alertas**: Mensajes de Ã©xito/error claros

- âœ… **Navbar DinÃ¡mica**: Se adapta segÃºn rol del usuarioâ”‚   â”œâ”€â”€ productos/   - Haz clic en **"Seleccionar archivo"**

- âœ… **Dashboard Personalizado**: Muestra solo mÃ³dulos permitidos

â”‚   â”‚   â”œâ”€â”€ crear.php                    (marca + IVA)   - Navega hasta: `C:\xampp\htdocs\Proyecto_PHP\sql\inventario_tienda.sql`

---

â”‚   â”‚   â””â”€â”€ editar.php                   (marca + IVA + eliminar)   - SelecciÃ³nalo y haz clic en **"Abrir"**

## ğŸ”’ CARACTERÃSTICAS DE SEGURIDAD

â”‚   â”œâ”€â”€ clientes/   - DesplÃ¡zate hacia abajo y haz clic en **"Continuar"**

1. âœ… **AutenticaciÃ³n Obligatoria**: No se accede sin login

2. âœ… **Control de Roles**: Admin vs Vendedorâ”‚   â”‚   â”œâ”€â”€ crear.php                    (identificaciÃ³n Ecuador)   - Espera el mensaje de Ã©xito: âœ… "ImportaciÃ³n finalizada correctamente"

3. âœ… **ValidaciÃ³n de Permisos**: En cada vista

4. âœ… **Sesiones PHP**: Manejo seguro de sesionesâ”‚   â”‚   â””â”€â”€ editar.php                   (identificaciÃ³n + eliminar)

5. âœ… **PDO con Prepared Statements**: PrevenciÃ³n de SQL Injection

6. âœ… **SanitizaciÃ³n de Datos**: `htmlspecialchars()` en salidasâ”‚   â”œâ”€â”€ reportes/#### 6ï¸âƒ£ Verificar la ImportaciÃ³n

7. âœ… **Transacciones SQL**: Control ACID en operaciones crÃ­ticas

8. âœ… **Claves ForÃ¡neas**: Integridad referencialâ”‚   â”‚   â”œâ”€â”€ stock_minimo.php             (usa VISTA)   - En phpMyAdmin, haz clic en la base de datos `inventario_tienda`

9. âœ… **Redirecciones AutomÃ¡ticas**: Si no hay sesiÃ³n o permisos

â”‚   â”‚   â””â”€â”€ ventas.php                   (usa STORED PROCEDURE)   - DeberÃ­as ver **8 tablas**:

---

â”‚   â””â”€â”€ ventas/     - Categoria

## ğŸ“ URLS DEL SISTEMA

â”‚       â””â”€â”€ generar.php                  (mÃ©todos pago Ecuador)     - Cliente

### ProducciÃ³n

- **Login**: `http://localhost/Proyecto_PHP/auth/login.php`â”œâ”€â”€ public/     - DetalleVenta

- **Dashboard**: `http://localhost/Proyecto_PHP/index.php`

- **Sistema**: `http://localhost/Proyecto_PHP/` (redirige al login)â”‚   â”œâ”€â”€ css/     - FacturaVenta



### Herramientasâ”‚   â”‚   â””â”€â”€ style.css     - MovimientoInventario

- **phpMyAdmin**: `http://localhost/phpmyadmin`

- **XAMPP Panel**: Abre desde el menÃº de inicioâ”‚   â””â”€â”€ js/     - Producto



---â”‚       â””â”€â”€ main.js     - Proveedor



## ğŸš€ ESTADO DEL PROYECTOâ”œâ”€â”€ INDEX.PHP                            â­ PÃ¡gina principal     - Telefono_Cliente



### âœ… SISTEMA 100% COMPLETO Y FUNCIONALâ”œâ”€â”€ INSTALACION_RAPIDA.md                ğŸ“– GuÃ­a de instalaciÃ³n   - TambiÃ©n deberÃ­as ver **2 vistas** y **1 procedimiento**



- âœ… Base de datos normalizada (3FN)â”œâ”€â”€ VERIFICACION_COMPLETA_SISTEMA.md     ğŸ“– DocumentaciÃ³n tÃ©cnica   - Haz clic en alguna tabla (ej: Producto) â†’ pestaÃ±a "Examinar" para ver datos de ejemplo

- âœ… 8 tablas con datos de prueba

- âœ… 2 vistas SQL funcionalesâ””â”€â”€ README.md                            ğŸ“– Este archivo

- âœ… 1 stored procedure usado en reportes

- âœ… 1 trigger de alerta automÃ¡tica```#### 7ï¸âƒ£ Acceder al Sistema

- âœ… Sistema de login con roles

- âœ… 7 mÃ³dulos protegidos por permisos   - Abre tu navegador

- âœ… Interfaz responsive con Bootstrap 5

- âœ… Adaptado 100% para Ecuador---   - Ve a: **`http://localhost/Proyecto_PHP/index.php`**

- âœ… DocumentaciÃ³n completa

- âœ… Listo para presentaciÃ³n/producciÃ³n   - DeberÃ­as ver la pÃ¡gina principal con 6 tarjetas (las 6 pantallas del sistema)



---## ğŸ¯ ELEMENTOS SQL AVANZADOS IMPLEMENTADOS



## ğŸ¯ PRÃ“XIMOS PASOS (Opcional)### ğŸ¯ VerificaciÃ³n RÃ¡pida



Si quieres seguir mejorando el proyecto:### âœ… Vistas (3)



1. â• Agregar mÃ¡s roles (almacenero, supervisor)- [x] `vista_stock_bajo` - Productos con stock crÃ­ticoPara confirmar que todo funciona:

2. ğŸ“§ Sistema de recuperaciÃ³n de contraseÃ±a

3. ğŸ“Š Dashboard con grÃ¡ficos estadÃ­sticos- [x] `vista_ventas_completas` - Resumen de todas las ventas

4. ğŸ“„ GeneraciÃ³n de PDF para facturas

5. ğŸ”” Sistema de notificaciones en tiempo real- [x] `vista_detalle_ventas` - **Detalle con cÃ¡lculo automÃ¡tico de IVA 15%**1. **PÃ¡gina principal carga**: `http://localhost/Proyecto_PHP/index.php` âœ…

6. ğŸ“± API REST para aplicaciÃ³n mÃ³vil

7. ğŸŒ Desplegar en servidor web (hosting)2. **Crear producto funciona**: Clic en "Nuevo Producto" â†’ llenar formulario â†’ Guardar âœ…



---### âœ… Stored Procedures (1)3. **Reporte stock mÃ­nimo**: Clic en "Stock Bajo MÃ­nimo" â†’ debe mostrar productos âœ…



## ğŸ“„ LICENCIA- [x] `sp_reporte_ventas_fechas` - Reporte con 2 resultados:4. **Reporte ventas**: Clic en "Reporte de Ventas" â†’ seleccionar fechas â†’ debe mostrar datos âœ…



Este es un proyecto acadÃ©mico desarrollado con fines educativos.  - Resultado 1: Lista de ventas



---  - Resultado 2: EstadÃ­sticas agregadas### ğŸ”§ SoluciÃ³n de Problemas Comunes



## ğŸ‘¨â€ğŸ’» INFORMACIÃ“N DEL PROYECTO



- **Tipo**: Proyecto AcadÃ©mico - Base de Datos### âœ… Triggers (1)#### âŒ Error: "Connection failed"

- **Requerimiento**: 2+2+2 pantallas (ingreso, actualizaciÃ³n, reportes)

- **Fecha**: Octubre 2025- [x] `tr_restock_producto` - **Alerta automÃ¡tica de re-stock****Causa**: MySQL no estÃ¡ corriendo o credenciales incorrectas

- **PaÃ­s**: Ecuador ğŸ‡ªğŸ‡¨

- **VersiÃ³n**: 3.0 (con sistema de autenticaciÃ³n)  - Se activa al actualizar producto



---  - Si `stock < stock_minimo`**SoluciÃ³n**:



## ğŸ‰ Â¡SISTEMA LISTO PARA USAR!  - Inserta registro en `MovimientoInventario`1. Abre XAMPP Control Panel



Para comenzar:  - Sugiere cantidad de pedido2. Verifica que MySQL estÃ© en **verde** (Running)



```bash3. Si no, haz clic en "Start" junto a MySQL

1. Inicia XAMPP (Apache + MySQL)

2. Importa el SQL en phpMyAdmin### âœ… Funciones de AgregaciÃ³n4. Si el problema persiste, verifica `config/conexion.php`:

3. Abre: http://localhost/Proyecto_PHP/

4. Ingresa con: admin / admin- [x] `SUM()` - Totales de ventas   ```php

```

- [x] `AVG()` - Promedio de ventas   private $username = "root";

**Â¡Disfruta del sistema!** ğŸš€

- [x] `COUNT()` - Cantidad de registros   private $password = "";  // Dejar vacÃ­o en XAMPP por defecto

---

- [x] `MIN()` - Venta mÃ­nima   ```

**Desarrollado con â¤ï¸ para Ecuador**  

**Sistema Completo de Inventario con AutenticaciÃ³n**  - [x] `MAX()` - Venta mÃ¡xima

**VersiÃ³n 3.0 - Octubre 2025**

#### âŒ Error: "Table doesn't exist"

### âœ… Otros**Causa**: El archivo SQL no se importÃ³ correctamente

- [x] Ãndices optimizados (8 Ã­ndices)

- [x] Foreign Keys con cascada**SoluciÃ³n**:

- [x] NormalizaciÃ³n 3FN1. Ve a phpMyAdmin: `http://localhost/phpmyadmin`

- [x] Charset UTF-8 (utf8mb4)2. Selecciona base de datos `inventario_tienda`

3. Si no tiene tablas, importa de nuevo el archivo `sql/inventario_tienda.sql`

---4. AsegÃºrate de que el archivo se importÃ³ completamente (busca mensaje de Ã©xito)



## ğŸ§ª DATOS DE PRUEBA#### âŒ Error: "Cannot modify header information"

**Causa**: Espacios o BOM antes de `<?php`

### Productos (10)

- Camisetas: Adidas ($15.99), Nike ($18.99)**SoluciÃ³n**:

- Pantalones: Levi's ($45.99), Dockers ($39.99)- Guarda todos los archivos PHP con encoding **UTF-8 sin BOM**

- Vestidos: Zara ($59.99), Mango ($75.99)- AsegÃºrate de que no haya espacios antes de `<?php`

- Accesorios: Puma ($12.50), Tommy Hilfiger ($25.00)

- Calzado: Reebok ($79.99), Clarks ($89.99)#### âŒ PÃ¡gina en blanco o error 500

**Causa**: Error de PHP no mostrado

### Clientes (6)

- MarÃ­a GonzÃ¡lez - CÃ©dula 1712345678 - Quito, Pichincha**SoluciÃ³n**:

- Carlos RamÃ­rez - CÃ©dula 0912345678 - Guayaquil, Guayas1. Abre `config/conexion.php`

- Ana LÃ³pez - RUC 0102345678001 - Cuenca, Azuay2. Agrega al inicio (despuÃ©s de `<?php`):

- Roberto Silva - Ambato, Tungurahua   ```php

- Laura FernÃ¡ndez - Riobamba, Chimborazo   error_reporting(E_ALL);

- Cliente GenÃ©rico   ini_set('display_errors', 1);

   ```

### Ventas (6 facturas - Octubre 2025)3. Recarga la pÃ¡gina y verÃ¡s el error especÃ­fico

- Fechas: 15 al 25 de octubre 2025

- MÃ©todos: Efectivo, Tarjeta, Transferencia#### âŒ Apache no inicia (Puerto 80 ocupado)

- Rango: $18.39 - $252.77**Causa**: Skype u otro programa usa el puerto 80



---**SoluciÃ³n**:

1. En XAMPP Control Panel, haz clic en "Config" junto a Apache

## ğŸ“š DOCUMENTACIÃ“N2. Selecciona "httpd.conf"

3. Busca: `Listen 80`

| Archivo | DescripciÃ³n |4. CÃ¡mbialo a: `Listen 8080`

|---------|-------------|5. Guarda y reinicia Apache

| `INSTALACION_RAPIDA.md` | GuÃ­a paso a paso de instalaciÃ³n |6. Ahora accede con: `http://localhost:8080/Proyecto_PHP/index.php`

| `VERIFICACION_COMPLETA_SISTEMA.md` | DocumentaciÃ³n tÃ©cnica completa |

| `CORRECCION_REPORTE_VENTAS.md` | Correcciones del botÃ³n "Ver" |## ğŸ“Š Base de Datos



---### Elementos Avanzados Implementados



## ğŸ”§ CONFIGURACIÃ“N- **2 Vistas SQL**: 

  - `vista_stock_bajo`: Usada en reporte de stock mÃ­nimo

### ConexiÃ³n a Base de Datos  - `vista_ventas_completas`: Disponible para consultas

**Archivo**: `config/conexion.php`  

- **1 Stored Procedure**: 

```php  - `sp_reporte_ventas_fechas`: Usado en reporte de ventas por fechas

private $host = "localhost";  

private $db_name = "inventario_tienda";- **Transacciones**: Implementadas en modelo `FacturaVenta.php`

private $username = "root";  - Control ACID (Atomicity, Consistency, Isolation, Durability)

private $password = "";  // VacÃ­o en XAMPP  - Rollback automÃ¡tico en caso de errores

```

**Principio aplicado**: Calidad sobre cantidad - TODO lo implementado se USA en el sistema.

---

### Diagrama E-R

## âœ… VERIFICACIÃ“N DEL SISTEMA

El sistema utiliza las siguientes tablas:

### Checklist de InstalaciÃ³n

- [ ] Apache y MySQL corriendo- **Proveedor**: InformaciÃ³n de proveedores

- [ ] Base de datos `inventario_tienda` creada- **Categoria**: CategorÃ­as de productos

- [ ] 8 tablas importadas- **Producto**: Productos del inventario

- [ ] 3 vistas creadas- **Cliente**: InformaciÃ³n de clientes

- [ ] 1 Stored Procedure creado- **Telefono_Cliente**: TelÃ©fonos de clientes (relaciÃ³n 1:N)

- [ ] 1 Trigger creado- **FacturaVenta**: Facturas de ventas

- [ ] PÃ¡gina principal carga: `http://localhost/Proyecto_PHP/`- **DetalleVenta**: Detalle de productos vendidos

- [ ] Hay 10 productos de ejemplo- **MovimientoInventario**: Registro de entradas/salidas de stock

- [ ] Hay 6 clientes de ejemplo

- [ ] Hay 6 ventas de ejemplo### NormalizaciÃ³n



### Probar TRIGGER- Cumple con la 3ra Forma Normal (3FN)

```sql- Uso de claves forÃ¡neas con integridad referencial

-- Ejecutar en phpMyAdmin â†’ SQL- Restricciones CHECK para prevenir stock negativo

UPDATE Producto SET stock = 3 WHERE id_producto = 1;- Ãndices para optimizar consultas

SELECT * FROM MovimientoInventario WHERE descripcion LIKE '%ALERTA%';

-- DeberÃ­a aparecer un registro de alerta automÃ¡tica## ğŸ”§ Funcionalidades Principales

```

### 1. GestiÃ³n de Productos (Ingreso y ActualizaciÃ³n)

### Probar STORED PROCEDURE- âœ… Crear nuevos productos con categorÃ­a y proveedor

```sql- âœ… Editar productos existentes con selector integrado

-- Ejecutar en phpMyAdmin â†’ SQL- âœ… Control de stock mÃ­nimo y actual

CALL sp_reporte_ventas_fechas('2025-10-01', '2025-10-31');- âœ… PrevenciÃ³n de stock negativo mediante restricciones DB

-- DeberÃ­a retornar 6 ventas + estadÃ­sticas

```### 2. GestiÃ³n de Clientes (Ingreso y ActualizaciÃ³n)

- âœ… Crear nuevos clientes con datos completos

### Probar VISTA- âœ… Editar clientes existentes con selector integrado

```sql- âœ… Gestionar mÃºltiples telÃ©fonos por cliente

-- Ejecutar en phpMyAdmin â†’ SQL- âœ… ValidaciÃ³n de correos electrÃ³nicos

SELECT * FROM vista_detalle_ventas;

-- DeberÃ­a mostrar productos con IVA calculado### 3. Sistema de Reportes

```- âœ… **Stock Bajo MÃ­nimo** (usa VISTA `vista_stock_bajo`):

  - Identifica productos que necesitan reposiciÃ³n

---  - Indicadores visuales (Sin Stock, CrÃ­tico, En MÃ­nimo)

  - InformaciÃ³n de proveedor para contacto

## ğŸ¯ CARACTERÃSTICAS DESTACADAS  - Ordenado por nivel de urgencia

  - **Campo calculado**: `estado_stock` se genera automÃ¡ticamente en la BD

### ğŸ‡ªğŸ‡¨ AdaptaciÃ³n Ecuador  

- âœ… Moneda USD ($)- âœ… **Ventas por Fechas** (usa STORED PROCEDURE `sp_reporte_ventas_fechas`):

- âœ… IVA 15%  - Filtrado por rango de fechas personalizado

- âœ… IdentificaciÃ³n (CÃ©dula/RUC/Pasaporte)  - Retorna 2 conjuntos de datos:

- âœ… 24 provincias    1. Lista de ventas con detalles de cliente

- âœ… MÃ©todos de pago locales    2. EstadÃ­sticas calculadas (total, promedio, mÃ­n/mÃ¡x)

  - MÃ¡s eficiente que cÃ¡lculos en PHP

### ğŸ’¡ Funcionalidades Avanzadas  - Detalles de mÃ©todo de pago y cantidad de items

- âœ… CÃ¡lculo automÃ¡tico de IVA por producto

- âœ… Sistema de alertas automÃ¡ticas (TRIGGER)### 4. Integridad de Datos (Backend)

- âœ… Reportes con estadÃ­sticas (STORED PROCEDURE)- âœ… Transacciones SQL implementadas en `models/FacturaVenta.php` (BEGIN/COMMIT/ROLLBACK)

- âœ… Detalles expandibles en reportes (Bootstrap collapse)- âœ… Modelo preparado para registro de ventas con control ACID

- âœ… Validaciones de FK (no permite eliminar si hay relaciones)- âœ… ActualizaciÃ³n de inventario mediante MovimientoInventario

- âœ… Transacciones SQL en ventas- âœ… Restricciones de integridad referencial con claves forÃ¡neas



### ğŸ¨ Interfaz## ğŸ”’ Seguridad

- âœ… Bootstrap 5.3 responsive

- âœ… Iconos Bootstrap Icons- Uso de PDO con Prepared Statements (prevenciÃ³n de SQL Injection)

- âœ… Confirmaciones JavaScript- SanitizaciÃ³n de datos con `htmlspecialchars()`

- âœ… Validaciones de formularios- ValidaciÃ³n de datos en servidor

- âœ… Tablas con diseÃ±o moderno- Transacciones SQL para operaciones crÃ­ticas

- Manejo de errores con try/catch

---

## ğŸ¨ Interfaz de Usuario

## ğŸ“ SOPORTE

- DiseÃ±o responsive con Bootstrap 5

### URLs del Sistema- Paleta de colores moderna

- **Sistema**: `http://localhost/Proyecto_PHP/`- Iconos de Bootstrap Icons

- **phpMyAdmin**: `http://localhost/phpmyadmin`- Efectos hover y animaciones

- Alertas y mensajes de confirmaciÃ³n

### Archivos Clave- ImpresiÃ³n de documentos

- **SQL Completo**: `sql/inventario_tienda_COMPLETO.sql`

- **ConexiÃ³n**: `config/conexion.php`## ğŸ“ Datos de Ejemplo

- **PÃ¡gina Principal**: `INDEX.PHP`

El script SQL incluye datos de ejemplo:

---- 5 categorÃ­as de productos

- 3 proveedores

## ğŸ† CUMPLIMIENTO DE REQUISITOS- 6 productos de ejemplo

- 3 clientes con telÃ©fonos

| Requisito | Estado | ImplementaciÃ³n |

|-----------|--------|----------------|## ğŸ§ª Pruebas Recomendadas

| 2 pantallas ingreso | âœ… 100% | productos/crear.php, clientes/crear.php |

| 2 pantallas actualizaciÃ³n | âœ… 100% | productos/editar.php, clientes/editar.php |### Pruebas de Pantallas de Ingreso

| 2 reportes | âœ… 100% | stock_minimo.php (VISTA), ventas.php (SP) |1. **Crear un producto** con todos los campos y verificar que se guarde

| Vistas SQL | âœ… 150% | 3 vistas implementadas |2. **Crear un cliente** con mÃºltiples telÃ©fonos separados por comas

| Stored Procedures | âœ… 100% | 1 SP con 2 resultados |3. Verificar que las validaciones funcionen (campos obligatorios)

| Triggers | âœ… 100% | 1 Trigger automÃ¡tico |

| Funciones agregaciÃ³n | âœ… 100% | SUM, AVG, COUNT, MIN, MAX |### Pruebas de Pantallas de ActualizaciÃ³n

| NormalizaciÃ³n 3FN | âœ… 100% | 8 tablas normalizadas |4. **Editar un producto** usando el selector integrado

5. **Editar un cliente** y agregar/eliminar telÃ©fonos

---6. Verificar que los cambios se guarden correctamente



## ğŸš€ ESTADO DEL PROYECTO### Pruebas de Pantallas de Reportes

7. **Generar reporte de stock bajo mÃ­nimo** y verificar indicadores

**âœ… SISTEMA 100% COMPLETO Y FUNCIONAL**8. **Generar reporte de ventas** filtrando por rango de fechas

9. Verificar cÃ¡lculos de totales y promedios

- âœ… Base de datos unificada en un solo archivo SQL

- âœ… Todos los modelos PHP actualizados### Pruebas de Integridad

- âœ… Todas las vistas adaptadas para Ecuador10. Intentar crear producto sin categorÃ­a (debe fallar)

- âœ… Elementos SQL avanzados implementados11. Verificar que los datos se muestren correctamente en los selectores

- âœ… DocumentaciÃ³n completa

- âœ… Datos de prueba incluidos## ğŸ“– ConfiguraciÃ³n de Base de Datos

- âœ… Listo para presentaciÃ³n/producciÃ³n

Si necesitas cambiar las credenciales de la base de datos, edita el archivo:

---`config/conexion.php`



**Desarrollado con â¤ï¸ para Ecuador**  ```php

**VersiÃ³n 2.0 - Octubre 2025**private $host = "localhost";

private $db_name = "inventario_tienda";
private $username = "root";
private $password = "";
```

## ğŸ› SoluciÃ³n de Problemas

### Error: "Connection failed"
- Verifica que MySQL estÃ© iniciado en XAMPP
- Comprueba que la base de datos exista
- Revisa las credenciales en `config/conexion.php`

### Error: "Table doesn't exist"
- AsegÃºrate de haber importado el archivo SQL
- Verifica el nombre de la base de datos

### Error: "Cannot insert... foreign key constraint fails"
- Verifica que existan categorÃ­as antes de crear productos
- AsegÃºrate de seleccionar un producto vÃ¡lido en las ventas

## ğŸ“„ Licencia

Este es un proyecto acadÃ©mico para fines educativos.

## ğŸ‘¨â€ğŸ’» Autor

Proyecto desarrollado como parte de un trabajo acadÃ©mico de base de datos.

**Cumplimiento**: Sistema implementa exactamente **2+2+2 pantallas** segÃºn requerimiento del profesor.

---

**Â¡Sistema listo para presentar! ğŸ‰**
